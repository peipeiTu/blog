<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[PeipeiTu's Blog]]></title><description><![CDATA[ä¸ªäººåšå®¢ï¼Œå¤§æ¦‚ä¼šæ”¾äº›ç¬”è®°å§]]></description><link>https://peipeiTu.github.com/blog</link><generator>GatsbyJS</generator><lastBuildDate>Mon, 09 Dec 2019 07:37:50 GMT</lastBuildDate><item><title><![CDATA[äº‹åŠ¡å’Œé”ï¼ˆåŒ…å«Sequelizeä¸‹çš„æ“ä½œï¼‰]]></title><description><![CDATA[äº‹åŠ¡(Transaction)ï¼š äº‹åŠ¡æ˜¯æ•°æ®åº“æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé€»è¾‘å•ä½ï¼Œç”±ä¸€ç³»åˆ—æœ‰é™çš„æ•°æ®åº“æ“ä½œåºåˆ—æ„æˆã€‚è¢«äº‹åŠ¡è£¹èµ·æ¥çš„è¿™äº›æ“ä½œä¼šæœ‰å…±åŒçš„æ‰§è¡Œç»“æœï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥å¹¶å…¨éƒ¨å›æ»šã€‚å¯ä»¥è§£å†³æ“ä½œåŸå­æ€§çš„é—®é¢˜ã€‚ å¦‚é“¶è¡Œè½¬è´¦ï¼ŒAè½¬è´¦100ç»™Bâ€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/database/transaction_and_lock/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/database/transaction_and_lock/</guid><pubDate>Mon, 09 Dec 2019 06:09:03 GMT</pubDate><content:encoded>&lt;h5&gt;äº‹åŠ¡(Transaction)ï¼š&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;äº‹åŠ¡æ˜¯æ•°æ®åº“æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé€»è¾‘å•ä½ï¼Œç”±ä¸€ç³»åˆ—æœ‰é™çš„æ•°æ®åº“æ“ä½œåºåˆ—æ„æˆã€‚è¢«äº‹åŠ¡è£¹èµ·æ¥çš„è¿™äº›æ“ä½œä¼šæœ‰å…±åŒçš„æ‰§è¡Œç»“æœï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå¤±è´¥å¹¶å…¨éƒ¨å›æ»šã€‚å¯ä»¥è§£å†³æ“ä½œåŸå­æ€§çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚é“¶è¡Œè½¬è´¦ï¼ŒAè½¬è´¦100ç»™Bï¼Œå³éœ€è¦ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Aä½™é¢ -= 100
Bä½™é¢ += 100&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸¤æ¡è¯­å¥è™½ç„¶ç‹¬ç«‹ï¼Œä½†æœ€ç»ˆç»“æœå¿…é¡»æ˜¯è¦ä¹ˆéƒ½æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// SQLä»£ç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;transaction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// æ“ä½œ&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;commit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Sequelize&lt;/code&gt;æä¾›&lt;code class=&quot;language-text&quot;&gt;Transaction&lt;/code&gt;ç±»ï¼Œé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;Sequelize.transaction&lt;/code&gt;åˆ›å»ºäº‹åŠ¡ï¼Œå¹¶åœ¨æ¯ä¸€æ¬¡æ•°æ®åº“æ“ä½œè®¾ç½®å½“å‰æ“ä½œå±äºå“ªä¸ªäº‹åŠ¡ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;transaction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;transaction&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; instance &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; Accounts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      where&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      transaction
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; instance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      balances&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; instance&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;balances &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; number&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      transaction
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h5&gt;å¹¶å‘&lt;/h5&gt;
&lt;p&gt;äº‹åŠ¡åªè§£å†³äº†æ“ä½œåŸå­æ€§çš„é—®é¢˜ï¼Œå¹¶å‘åˆ™éœ€è¦é€šè¿‡åŠ é”æ¥é¿å…ã€‚&lt;/p&gt;
&lt;h6&gt;é”ï¼š&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ‚²è§‚é”&lt;/code&gt;ï¼šä¸ºäº†é¿å…å†²çªï¼Œç›´æ¥ç»™è®°å½•åŠ ä¸Šé”ï¼Œå†äº‹åŠ¡é‡Šæ”¾ä¹‹å‰ï¼Œå…¶ä»–è¦å¯¹è¯¥è®°å½•æ‰§è¡Œæ“ä½œçš„äº‹åŠ¡éƒ½å¿…é¡»ç­‰å¾…ã€‚MySqlã€Postgreséƒ½å®ç°äº†æ‚²è§‚é”ã€‚ç¼ºç‚¹æ˜¯ï¼Œå†è¯»æ“ä½œé¢‘ç¹çš„åœºæ™¯ä¸‹ï¼Œä¼šå½±å“ååé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ä¹è§‚é”&lt;/code&gt;ï¼šä¸å¯¹è¯»è¿›è¡Œé™åˆ¶ï¼Œä»…åœ¨å†™å…¥æ›´æ–°çš„æ—¶å€™åšåˆ¤æ–­ã€‚é€šå¸¸ä¼šå¢åŠ versionå­—æ®µï¼Œæ¯æ¬¡æ›´æ–°çš„æ—¶å€™version+1ï¼Œæäº¤æ›´æ–°çš„æ—¶å€™å…ˆåˆ¤æ–­versionï¼Œå¦‚æœå·²å¤±æ•ˆåˆ™é‡è¯•ã€‚åœ¨å†™æ“ä½œé¢‘ç¹çš„åœºæ™¯ä¸‹ä¼šä¸æ–­å‘ç”Ÿé‡è¯•ï¼Œä¹Ÿä¼šå½±å“ååé‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ’ä»–é”&lt;/code&gt;ï¼šæ‚²è§‚é”çš„ä¸€ç§ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åŠ é”ã€‚åŒä¸€èµ„æºåŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ’ä»–é”ï¼Œå…¶ä»–äº‹åŠ¡è¯»å†™éƒ½éœ€è¦ç­‰å¾…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// SQLä»£ç &lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; accounts &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FOR&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;UPDATE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Sequelize å†™æ³•&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; Accounts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  where&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  lock&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Transaction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOCK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;UPDATE&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å…±äº«é”&lt;/code&gt;ï¼šå…è®¸åŒä¸€èµ„æºåŒæ—¶å­˜åœ¨å¤šä¸ªå…±äº«é”ï¼Œå½“éœ€è¦æ‰§è¡Œä¿®æ”¹ã€åˆ é™¤ç­‰æ“ä½œæ—¶ï¼Œå¿…é¡»ç­‰å…¶ä»–æ‰€æœ‰å…±äº«é”éƒ½é‡Šæ”¾åæ‰èƒ½æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; accounts &lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;FOR&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;SHARE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; Accounts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  where&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;name&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  lock&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; Sequelize&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Transaction&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;LOCK&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;SHARE&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;äº‹åŠ¡éš”ç¦»çº§&lt;/h4&gt;
&lt;table class=&quot;table table-bordered table-striped table-dark&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th scope=&quot;col&quot;&gt;çº§åˆ«&lt;/th&gt;
      &lt;th scope=&quot;col&quot;&gt;è„è¯»&lt;/th&gt;
      &lt;th scope=&quot;col&quot;&gt;ä¸å¯é‡å¤è¯»&lt;/th&gt;
      &lt;th scope=&quot;col&quot;&gt;å¹»è¯»&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th scope=&quot;row&quot;&gt;READ_UNCOMMITTED è¯»æœªæäº¤&lt;/th&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th scope=&quot;row&quot;&gt;READ_COMMITTED è¯»å·²æäº¤&lt;/th&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th scope=&quot;row&quot;&gt;REPEATABLE_READ å¯é‡å¤è¯»&lt;/th&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
        &lt;tr&gt;
      &lt;th scope=&quot;row&quot;&gt;SERIALIZABLE å¯ä¸²è¡ŒåŒ–&lt;/th&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
      &lt;td&gt;Ã—&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
* Ã—è¡¨ç¤ºåœ¨è¿™ä¸ªçº§åˆ«é‡Œï¼ŒæŸç±»é—®é¢˜ä¸ä¼šå‡ºç°ã€‚
&lt;p&gt;ç›¸å…³æ–‡ç« &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://juejin.im/post/5c98e31f51882574c6520dc3&quot;&gt;å­¦ç‚¹åç«¯çŸ¥è¯†ä¹‹ Sequelize ä¸­åˆ›å»ºäº‹åŠ¡å’ŒğŸ”&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GTM æ›¿æ¢GAä¸­çš„ç”¨æˆ·ID]]></title><description><![CDATA[1. è®¾å®šGAä¸­çš„User-ID ,åŒæ„å¯ç”¨User-IDæ”¿ç­– ä¸‹ä¸€æ­¥ï¼Œä¸ç”¨ç®¡ ä¸‹ä¸€æ­¥ï¼Œ 2. åœ¨GTMä¸­è·å–User IDçš„æ–¹æ³• # è®©å¼€å‘è€…ä½¿ç”¨æ–¹å¼ä¼ é€’User ID å¼€å‘è€…é€šè¿‡ä¼ é€’ID åœ¨GTM çš„å˜é‡ä¸­ï¼Œå£°æ˜å¥½å˜é‡ï¼Œç±»å‹ä¸ºï¼Œå‘½åä¸å¼€å‘è€…ä¼ é€’çš„ä¸€è‡´ # å°†IDâ€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/gtm/ga-user-id-replace/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/gtm/ga-user-id-replace/</guid><pubDate>Sun, 29 Sep 2019 03:31:19 GMT</pubDate><content:encoded>&lt;h4&gt;1. è®¾å®šGAä¸­çš„User-ID&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç®¡ç† â†’ åª’ä½“èµ„æºâ†’ è·Ÿè¸ªä¿¡æ¯ â†’ User-ID&lt;/code&gt;,åŒæ„å¯ç”¨User-IDæ”¿ç­–&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€æ­¥&lt;code class=&quot;language-text&quot;&gt;è®¾ç½®User-ID&lt;/code&gt;ï¼Œä¸ç”¨ç®¡&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€æ­¥ï¼Œ&lt;code class=&quot;language-text&quot;&gt;åˆ›å»ºUser-IDè§†å›¾&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4&gt;2. åœ¨GTMä¸­è·å–User IDçš„æ–¹æ³•&lt;/h4&gt;
&lt;h6&gt;# è®©å¼€å‘è€…ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;datalayer&lt;/code&gt;æ–¹å¼ä¼ é€’User ID&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å‘è€…é€šè¿‡&lt;code class=&quot;language-text&quot;&gt;windows.dataLayer.push({userId:&amp;#39;123456&amp;#39;})&lt;/code&gt;ä¼ é€’ID&lt;/li&gt;
&lt;li&gt;åœ¨GTM çš„å˜é‡ä¸­ï¼Œå£°æ˜å¥½å˜é‡&lt;code class=&quot;language-text&quot;&gt;User_id&lt;/code&gt;ï¼Œç±»å‹ä¸º&lt;code class=&quot;language-text&quot;&gt;æ•°æ®å±‚å˜é‡&lt;/code&gt;ï¼Œå‘½åä¸å¼€å‘è€…ä¼ é€’çš„ä¸€è‡´&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;# å°†IDå­˜å‚¨åœ¨cookieä¸­&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å‘è€…å°†IDå­˜å‚¨åœ¨cookieä¸­ï¼Œå¯ä»¥åœ¨GTMä¸­çš„è‡ªå®šä¹‰å˜é‡ - cookieä¸­è·å–ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;# ä½¿ç”¨javascriptå˜é‡å¯»æ‰¾ID&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;å½“IDå­˜åœ¨äºjså…¨å±€å˜é‡ä¸­æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;# åœ¨DOMä¸­å¯»æ‰¾ID&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;å½“é¡µé¢å±•ç¤ºå†…å®¹ä¸­å­˜åœ¨IDï¼Œå¯ä»¥é€šè¿‡DOMè·å–IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h6&gt;# åœ¨URLä¸­æ‰¾ID&lt;/h6&gt;
&lt;hr&gt;
&lt;h4&gt;3. æ›´æ–°GAè®¾ç½®å˜é‡&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä¹‹å‰é…ç½®å¥½çš„&lt;code class=&quot;language-text&quot;&gt;GAè®¾ç½®&lt;/code&gt;å˜é‡ä¸­ï¼Œé€‰æ‹©æ›´å¤šè®¾ç½®ï¼Œæ·»åŠ å­—æ®µ&lt;code class=&quot;language-text&quot;&gt;userId - {{userId}}&lt;/code&gt;,å°†åœ¨ä¸Šä¸€æ­¥ä¸­å®šä¹‰å¥½çš„å˜é‡èµ‹å€¼ç»™userId&lt;/li&gt;
&lt;li&gt;åœ¨GAä¸­æ–°å»ºå¥½userIdç»´åº¦ï¼ŒåŒæ—¶åœ¨&lt;code class=&quot;language-text&quot;&gt;GAè®¾ç½®&lt;/code&gt;ä¸­è®¾ç½®ç»´åº¦ï¼Œæ³¨æ„ç»´åº¦çš„IDè¦ä¸€è‡´ï¼Œä¹Ÿèµ‹å€¼userId&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GTM ä¸­æ”¯æŒçš„GAç±»å‹]]></title><description><![CDATA[åœ¨ä¸­ï¼Œä»£ç ç±»å‹è®¾ç½®ä¸ºGAæ—¶ï¼Œè·Ÿè¸ªç±»å‹æœ‰â€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/gtm/ga-type/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/gtm/ga-type/</guid><pubDate>Sun, 29 Sep 2019 02:31:19 GMT</pubDate><content:encoded>&lt;h6&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;GTM&lt;/code&gt;ä¸­ï¼Œä»£ç ç±»å‹è®¾ç½®ä¸ºGAæ—¶ï¼Œè·Ÿè¸ªç±»å‹æœ‰&lt;code class=&quot;language-text&quot;&gt;ç½‘é¡µæµè§ˆã€äº‹ä»¶ã€äº¤æ˜“ã€ç¤¾äº¤ã€è®¡æ—¶ã€è£…é¥°é“¾æ¥ã€è£…é¥°è¡¨å•&lt;/code&gt;7ç§ã€‚&lt;/h6&gt;
&lt;h5&gt;# ç½‘é¡µæµè§ˆ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé€‰æ‹©è‡ªå¸¦é»˜è®¤è§¦å‘å™¨&lt;code class=&quot;language-text&quot;&gt;All Pagesé¡µé¢æµè§ˆ&lt;/code&gt;å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å•é¡µåº”ç”¨æƒ…å†µï¼Œç”±äºé¡µé¢ä¸ä¼šåˆ·æ–°ï¼Œå³æ— æ³•è§¦å‘&lt;code class=&quot;language-text&quot;&gt;ç½‘é¡µæµè§ˆ&lt;/code&gt;æ—¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§¦å‘æ¡ä»¶åŒæ—¶æ·»åŠ &lt;code class=&quot;language-text&quot;&gt;All Pagesé¡µé¢æµè§ˆ&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;å†å²è®°å½•å˜æ›´&lt;/code&gt;ï¼Œåè€…æ¯å½“åœ°å€æ å˜åŒ–æ—¶éƒ½ä¼šè¢«è§¦å‘ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code class=&quot;language-text&quot;&gt;GAè®¾ç½®&lt;/code&gt;ä¸­ï¼Œæ›¿æ¢å­—æ®µ&lt;code class=&quot;language-text&quot;&gt;page - {{New History Fragment}}&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# äº‹ä»¶&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;äº‹ä»¶ä¸»è¦æœ‰ä»¥ä¸‹å››ä¸ªå‚æ•°è®¾ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç±»åˆ«&lt;/strong&gt;ï¼šå³äº‹ä»¶åç§°ï¼Œå¯¹è¦åˆ†æçš„å¯¹è±¡è¿›è¡Œåˆ†ç»„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ“ä½œ&lt;/strong&gt;ï¼šå‘½åè¦é’ˆå¯¹ç‰¹å®šç½‘ç«™å¯¹è±¡è¡¡é‡çš„äº‹ä»¶æˆ–äº’åŠ¨çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡ç­¾ [å¯é€‰ï¼Œå»ºè®®å¡«]&lt;/strong&gt;ï¼šä¸ºäº‹ä»¶æä¾›æ›´å¤šä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å€¼ [å¯é€‰]&lt;/strong&gt;ï¼šæ•´æ•°ï¼Œç”¨äºä¸ºç½‘é¡µå¯¹è±¡æŒ‡å®šæ•°å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘ç›®å‰ç†è§£ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç±»åˆ«&lt;/code&gt;æ˜¯æ•´ä¸ªäº‹ä»¶çš„ä¸€ä¸ªæ³›åŒ–åç§°ï¼Œå¦‚å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ“ä½œ&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;æ ‡ç­¾&lt;/code&gt;æ˜¯å¯¹äº‹ä»¶çš„å…·ä½“æƒ…å†µç»†åˆ†ï¼Œå¦‚åˆ°åº•ç‚¹å‡»äº†å¯¼èˆªæ çš„å“ªä¸ªæŒ‰é’®ï¼Œä»¥åŠåˆ°åº•åœ¨å“ªä¸ªé¡µé¢è¿›è¡Œäº†ç‚¹å‡»ï¼Œä¸¤è€…å·®ä¸å¤šæ˜¯å¹³ç­‰çš„ï¼Œæ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè®¾ç½®ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å€¼&lt;/code&gt;æ˜¯å¯¹è¿™ä¸€äº‹ä»¶çš„ä»·å€¼è¯„ä¼°ï¼Œåœ¨äº‹ä»¶ä»·å€¼è¡¡é‡çš„æ—¶å€™ï¼Œä¸€èˆ¬é‡‡ç”¨è¿™ä¸ªå€¼æ¥ç­‰ä»·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GTM è¡¨å•è¿½è¸ª]]></title><description><![CDATA[æ¥æºåšå®¢ è¡¨å•è¿½è¸ªæ–¹æ³•é€‰æ‹© è¡¨å•èƒ½æŠ›å‡ºè¡¨å•æäº¤äº‹ä»¶å—ï¼Ÿ(formè¡¨å•ï¼Œsubmitæäº¤æŒ‰é’®) ï¼š YES #1 é€‰æ‹©é»˜è®¤çš„è¡¨å•è¿½è¸ªè§¦å‘å™¨
NO â†“
æˆåŠŸåé¡µé¢åˆ·æ–°å—ï¼Ÿé¡µé¢URLæ›´æ”¹å—ï¼Ÿç›®æ ‡URLå”¯ä¸€å—ï¼Ÿï¼š YES #2 é€‰æ‹©â€œthank youâ€é¡µé¢è¡¨å•è¿½è¸ª
NO â†“
AJAXâ€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/gtm/form-track/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/gtm/form-track/</guid><pubDate>Wed, 25 Sep 2019 03:31:19 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://damonanalytics.com/2019/05/04/%E5%88%A9%E7%94%A8gtm%E8%BF%BD%E8%B8%AA7%E7%A7%8D%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4/&quot;&gt;æ¥æºåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;è¡¨å•è¿½è¸ªæ–¹æ³•é€‰æ‹©&lt;/h4&gt;
&lt;p&gt;è¡¨å•èƒ½æŠ›å‡ºè¡¨å•æäº¤äº‹ä»¶å—ï¼Ÿ(formè¡¨å•ï¼Œsubmitæäº¤æŒ‰é’®) ï¼š YES #1 é€‰æ‹©é»˜è®¤çš„è¡¨å•è¿½è¸ªè§¦å‘å™¨
NO â†“
æˆåŠŸåé¡µé¢åˆ·æ–°å—ï¼Ÿé¡µé¢URLæ›´æ”¹å—ï¼Ÿç›®æ ‡URLå”¯ä¸€å—ï¼Ÿï¼š YES #2 é€‰æ‹©â€œthank youâ€é¡µé¢è¡¨å•è¿½è¸ª
NO â†“
AJAXç›‘å¬å™¨èƒ½æ•æ‰å—ï¼Ÿèƒ½æ‰¾åˆ°æäº¤æˆåŠŸåç›¸å…³dataLayerå”¯ä¸€å˜é‡ï¼Ÿï¼š YES #3 AJAXè‡ªåŠ¨è¡¨å•æäº¤ç›‘å¬å™¨
NO â†“
æˆåŠŸåå±•ç¤ºmessageï¼Ÿè¯¥messageæœ‰å”¯ä¸€classæˆ–idï¼Ÿï¼š YES #4 é€‰æ‹©å…ƒç´ å¯è§æ€§è§¦å‘å™¨
NO â†“
è¡¨å•æœ‰JS APIï¼ŸAPIæ–‡æ¡£é½å…¨ä¸”æœ‰ç®€å•æ ·ä¾‹ï¼Ÿèƒ½ç¼–è¾‘ï¼Ÿï¼š YES #5 åˆ›å»ºè‡ªå·±çš„è¡¨å•è‡ªåŠ¨äº‹ä»¶ç›‘å¬å™¨
NO â†“
ä»ç½‘ç«™å¼€å‘è·å¾—å¸®åŠ©ï¼Ÿï¼š YES #6 è¡¨è¾¾æäº¤åï¼Œè¯·å¼€å‘è€…è§¦å‘ä¸€ä¸ªdataLayer.pushäº‹ä»¶
NO â†“
ä»¥ä¸Šæ–¹æ³•éƒ½ä¸é€‚ç”¨ï¼Ÿï¼š YES #7 å°è¯•DOMçˆ¬å–
NO â†“
è®¤è¾“äº†å—ï¼Ÿï¼š YES ç•™è¨€æ±‚åŠ©ï¼Œè°·æ­Œ&lt;/p&gt;
&lt;hr&gt;
&lt;h5&gt;1. GTMé»˜è®¤è¡¨å•è¿½è¸ª&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è§¦å‘å™¨ç±»å‹é€‰æ‹©&lt;code class=&quot;language-text&quot;&gt;è¡¨å•æäº¤&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;2. â€œThank youâ€é¡µé¢è¡¨å•æäº¤è¿½è¸ª&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæäº¤æˆåŠŸåï¼Œè·³è½¬çš„é¡µé¢å”¯ä¸€ï¼Œä¸”è¯¥é¡µé¢åªèƒ½é€šè¿‡è¿™ç§æ–¹å¼åˆ°è¾¾ï¼Œåˆ™è¿½è¸ªè¯¥é¡µé¢çš„è·³è½¬æ¥è§¦å‘äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;3. AJAXè¡¨å•æäº¤è¿½è¸ª&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Lunametricsä¸ºGTMæä¾›äº†ä¸€ä¸ªå…è´¹çš„[AJAXç›‘å¬å™¨](&lt;a href=&quot;https://www.bounteous.com/insights/2015/08/27/ajax-event-listener-google-tag-manager/?ns=l&quot;&gt;https://www.bounteous.com/insights/2015/08/27/ajax-event-listener-google-tag-manager/?ns=l&lt;/a&gt;](&lt;a href=&quot;https://www.bounteous.com/insights/2015/08/27/ajax-event-listener-google-tag-manager/?ns=l&quot;&gt;https://www.bounteous.com/insights/2015/08/27/ajax-event-listener-google-tag-manager/?ns=l&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;4. åˆ©ç”¨å…ƒç´ å¯è§æ€§è§¦å‘å™¨è¿½è¸ªè¡¨å•&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæäº¤æˆåŠŸåä¼šå¼¹å‡ºæç¤ºä¿¡æ¯ï¼Œåˆ™è§¦å‘å™¨é€‰æ‹©å…ƒç´ å¯è§æ€§è¿›è¡Œäº‹ä»¶è·Ÿè¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;5. æ’°å†™è‡ªå·±çš„è¡¨å•è‡ªåŠ¨äº‹ä»¶ç›‘å¬å™¨&lt;/h5&gt;
&lt;h5&gt;6. åˆ©ç”¨dataLayeräº‹ä»¶è¿½è¸ª&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;ç”±å¼€å‘è€…ä¸»åŠ¨æ¨é€äº‹ä»¶ï¼Œæ˜¯æ€§èƒ½æœ€å¥½ï¼Œæœ€ç›´è§‚çš„æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;7. åˆ©ç”¨DOMçˆ¬å–è¿½è¸ªè¡¨å•æäº¤&lt;/h5&gt;</content:encoded></item><item><title><![CDATA[GTM æ¦‚è¿°]]></title><description><![CDATA[â€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/gtm/overview/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/gtm/overview/</guid><pubDate>Fri, 20 Sep 2019 05:44:04 GMT</pubDate><content:encoded>&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Google Tag Manger&lt;/code&gt; ç”¨äºå‡è½»åŸ‹ç‚¹è´Ÿæ‹…ï¼Œå°†å¤§éƒ¨åˆ†å·¥ä½œä»ç½‘é¡µç¼–ç ä¸­ç§»å‡ºï¼Œå½“å®ƒå’Œ&lt;code class=&quot;language-text&quot;&gt;Google Analytics&lt;/code&gt;ç»“åˆä½¿ç”¨æ—¶ï¼Œç›¸å½“äºæ’å…¥äº†è°·æ­Œåˆ†æå’Œç½‘é¡µä»£ç ä¹‹é—´ï¼Œæ‰€ä»¥ä¸å†éœ€è¦åœ¨ç½‘é¡µä¸­ä½¿ç”¨&lt;code class=&quot;language-text&quot;&gt;gtag.js&lt;/code&gt;ç­‰ã€‚&lt;/p&gt;
&lt;h5&gt;# å®¹å™¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;åŒ…å«ä¸€ä¸ªé¡¹ç›®ï¼Œæ‹¥æœ‰ä¸€ä¸ªå®¹å™¨ç ï¼Œç”¨äºåµŒå…¥ç½‘é¡µã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åµŒå…¥ä»£ç æœ‰ä¸¤æ®µï¼Œåœ¨&lt;code class=&quot;language-text&quot;&gt;ç®¡ç† â†’ å®‰è£…Googleè·Ÿè¸ªä»£ç ç®¡ç†å™¨&lt;/code&gt; ä¸­å¯ä»¥æ‰¾åˆ° &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ®µåµŒå…¥&lt;code class=&quot;language-text&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt;ä¸­ï¼Œå°½é‡é é¡¶ &lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;w&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;i&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  w&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;w&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  w&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&apos;gtm.start&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ag-soft-line-break&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    event&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;gtm.js&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; f&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementsByTagName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ag-soft-line-break&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;j&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;d&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  dl&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;l&lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dataLayer&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&amp;amp;l=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;l&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  j&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;async&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  j&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ag-soft-line-break&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;https://www.googletagmanager.com/gtm.js?id=&apos;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;i&lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt;dl&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;parentNode&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;insertBefore&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;j&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ag-soft-line-break&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;window&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;document&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;script&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;dataLayer&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;GTM-MGJBX6K&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ®µä»£ç ç´§è·Ÿèµ·å§‹&lt;code class=&quot;language-text&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt;ï¼Œæ˜¯é¢„è§ˆæ—¶å¼¹å‡ºçš„è°ƒè¯•çª—å£&lt;/li&gt;
&lt;li&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt; Google Tag &lt;span class=&quot;token function&quot;&gt;Manager&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;noscript&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;noscript&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;iframe src&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://www.googletagmanager.com/ns.html?id=GTM-MGJBX6K&quot;&lt;/span&gt; height&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt; width&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;0&quot;&lt;/span&gt; style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;display:none;visibility:hidden&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;iframe&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;noscript&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt; End Google Tag &lt;span class=&quot;token function&quot;&gt;Manager&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;noscript&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# å˜é‡ (variable)&lt;/h5&gt;
&lt;p&gt;ä¸»è¦åˆ†ä¸º&lt;code class=&quot;language-text&quot;&gt;å†…ç½®å˜é‡&lt;/code&gt;å’Œ&lt;code class=&quot;language-text&quot;&gt;ç”¨æˆ·å®šä¹‰çš„å˜é‡&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å†…ç½®å˜é‡éœ€è¦å‹¾é€‰ç”Ÿæ•ˆï¼Œæ²¡æœ‰ä½¿ç”¨çš„é»˜è®¤ä¸å¼€å¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç½‘é¡µ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Page URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Page Hostname&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Page Path&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Referrer&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®ç”¨å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Event&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Environment Name&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Container Version&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Random Number&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;HTML ID&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é”™è¯¯&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Error Message&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Error URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Error Line&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Debug Mode&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç‚¹å‡»&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click Element&lt;/code&gt;ï¼šç‚¹å‡»çš„DOMå…ƒç´ å¯¹è±¡&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click Classes&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click Target&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Click Text&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è¡¨å•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form Element&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form Classes&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form Target&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Form Text&lt;/code&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å†å²è®°å½•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;New History Fragment&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Old History Fragement&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;New History State&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Old History State&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;History Source&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è§†é¢‘&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Provider&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Status&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Title&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Duration&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Current Time&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Percent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Video Visible&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ»šåŠ¨&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Scroll Depth Threshold&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Scroll Depth Units&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Scroll Direction&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å…¬å¼€èŒƒå›´&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Percent Visible&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;On-Screen Duration&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è‡ªå®šä¹‰å˜é‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯¼èˆª&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç½‘å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Httpå¼•èæ¥æºç½‘å€&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç½‘é¡µå˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç¬¬ä¸€æ–¹Cookie&lt;/code&gt;ï¼šè¿”å›æµè§ˆå™¨cookieä¸­è¯¥å˜é‡çš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ•°æ®å±‚å˜é‡&lt;/code&gt;ï¼šé€šè¿‡dataLayer.pushä¼ é€’çš„é”®å€¼å¯¹&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æœªå®šä¹‰çš„å€¼&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è‡ªå®šä¹‰javascript&lt;/code&gt;ï¼šè‡ªå·±å†™çš„jså‡½æ•°çš„è¿”å›å€¼ï¼Œå…¶ä¸­å¯ä»¥ç”¨&lt;code class=&quot;language-text&quot;&gt;{{}}&lt;/code&gt;æ¥ä½¿ç”¨å·²å­˜åœ¨çš„å˜é‡&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;javascriptå˜é‡&lt;/code&gt;ï¼šæŠ“å–é¡µé¢çš„å…¨å±€å˜é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;é¡µé¢å…ƒç´ &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å…ƒç´ å¯è§æ€§&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è‡ªåŠ¨äº‹ä»¶å˜é‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DOMå…ƒç´ &lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®ç”¨å·¥å…·&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å¸¸é‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å¯¹ç…§è¡¨&lt;/code&gt;ï¼šæ ¹æ®è¾“å…¥å€¼çš„ä¸åŒï¼Œç„¶åè¿”å›å¯¹åº”çš„è¾“å‡ºå€¼ï¼Œç±»ä¼¼switch&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç¯å¢ƒåç§°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;éšæœºæ•°å­—&lt;/code&gt;ï¼š0~2147483647çš„éšæœºæ•° (å«è¾¹ç•Œ)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ­£åˆ™è¡¨è¾¾å¼è¡¨æ ¼&lt;/code&gt;ï¼šè¾“å…¥å€¼ç”¨æ­£åˆ™æ¥åŒ¹é…çš„å¯¹ç…§è¡¨&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è‡ªå®šä¹‰äº‹ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Google Analytics(åˆ†æ) è®¾ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®¹å™¨æ•°æ®&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è°ƒè¯•æ¨¡å¼&lt;/code&gt;ï¼šå½“å¤„äºè°ƒè¯•æ¨¡å¼æ—¶ï¼Œè¯¥å€¼ä¸ºtrue&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å®¹å™¨ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å®¹å™¨ç‰ˆæœ¬å·&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# è§¦å‘å™¨&lt;/h5&gt;
&lt;p&gt;åˆ¶å®šè§„åˆ™ï¼Œå³è§„å®šå¥½è§¦å‘ä»£ç çš„æ¡ä»¶&lt;/p&gt;
&lt;p&gt;è§¦å‘å™¨ç±»å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç½‘é¡µæµè§ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;DOMå·²å‡†å¤‡å°±ç»ª&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;çª—å£å·²åŠ è½½&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ç½‘é¡µæµè§ˆ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ä»…é“¾æ¥&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ‰€æœ‰å…ƒç´ &lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨æˆ·æ·±åº¦äº’åŠ¨æƒ…å†µ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;YouTubeè§†é¢‘&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å…ƒç´ å¯è§æ€§&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;æ»šåŠ¨æ·±åº¦&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è¡¨å•æäº¤&lt;/code&gt;ï¼š&lt;code class=&quot;language-text&quot;&gt;form&lt;/code&gt;æäº¤æˆåŠŸçš„è·Ÿè¸ªï¼Œéœ€è¦&lt;code class=&quot;language-text&quot;&gt;form&lt;/code&gt;æœ€åçš„æäº¤æŒ‰é’®ç±»å‹æ˜¯submitæ‰èƒ½è§¦å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å…¶ä»–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;JavaScripté”™è¯¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å†å²è®°å½•æ›´æ”¹&lt;/code&gt;ï¼šç½‘å€çš„å˜åŒ–è·Ÿè¸ªï¼Œå¯ç”¨äºå•é¡µåº”ç”¨çš„ç½‘é¡µæµè§ˆè·Ÿè¸ªã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;å®šæ—¶å™¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è‡ªå®šä¹‰äº‹ä»¶&lt;/code&gt;ï¼šé€šè¿‡&lt;code class=&quot;language-text&quot;&gt;dataLayer.push({event:äº‹ä»¶})&lt;/code&gt;è§¦å‘ï¼Œè·Ÿè¸ªä¸ä¾¿é€šè¿‡å‰ç«¯å˜åŒ–å®šä½çš„äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;è§¦å‘å™¨ç»„&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# ä»£ç &lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¾å®šç±»å‹å’Œè§¦å‘å™¨ï¼Œå³æ»¡è¶³è§¦å‘æ¡ä»¶ä¹‹åï¼Œå‘æŸä¸ªç»Ÿè®¡å·¥å…·å‘é€æŒ‡å®šçš„æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Universal Analyticsï¼šå‘ç‰¹å®šçš„GA viewå‘é€æ•°æ®&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰htmlï¼šå‘é¡µé¢æ’å…¥ä»£ç ï¼Œå¯ç”¨äºäº‹ä»¶ç›‘æ§ï¼Œå†è¥é”€ä»£ç éƒ¨ç½²ï¼ŒGAåŸºç¡€ä»£ç éƒ¨ç½²&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# GTM debug&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;çº¿ä¸Šé¢„è§ˆ&lt;/li&gt;
&lt;li&gt;demoç«™ç‚¹&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[GA åŸºç¡€çŸ¥è¯†]]></title><description><![CDATA[# ç”¨æˆ·å®åˆ« ï¼šAnalyticsé»˜è®¤åˆ†é…ï¼Œæ—¶éšæœºæ•°å­—åŠ æ—¶é—´æˆ³æ„æˆï¼Œåœ¨åˆ‡æ¢æµè§ˆå™¨æˆ–è®¾å¤‡ï¼Œä»¥åŠæ¸…é™¤cookieæ—¶ï¼Œä¼šå˜åŒ–ã€‚ ï¼šé¡»è‡ªè¡Œè®¾ç½®å¹¶åŒ¹é…å‘é€ï¼Œå¯å…³è”ä¸€ä¸ªç”¨æˆ·ç™»å½•çŠ¶æ€ä¸‹çš„æ¯æ¬¡è®¿é—®ã€‚ # Sessionsçš„åˆ‡åˆ† åœ¨ä¸‰ç§æƒ…å†µä¸‹è¿›è¡Œåˆ‡åˆ†ï¼š è¶…è¿‡è¿‡æœŸæ—¶é—´(é»˜è®¤30min) åˆå¤œè¿‡1â€¦]]></description><link>https://peipeiTu.github.com/blog/notebook/ga/overview/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/ga/overview/</guid><pubDate>Thu, 01 Aug 2019 22:12:03 GMT</pubDate><content:encoded>&lt;h5&gt;# ç”¨æˆ·å®åˆ«&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ClientID&lt;/code&gt;ï¼šAnalyticsé»˜è®¤åˆ†é…ï¼Œæ—¶éšæœºæ•°å­—åŠ æ—¶é—´æˆ³æ„æˆï¼Œåœ¨åˆ‡æ¢æµè§ˆå™¨æˆ–è®¾å¤‡ï¼Œä»¥åŠæ¸…é™¤cookieæ—¶ï¼Œä¼šå˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;UserID&lt;/code&gt;ï¼šé¡»è‡ªè¡Œè®¾ç½®å¹¶åŒ¹é…å‘é€ï¼Œå¯å…³è”ä¸€ä¸ªç”¨æˆ·ç™»å½•çŠ¶æ€ä¸‹çš„æ¯æ¬¡è®¿é—®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# Sessionsçš„åˆ‡åˆ†&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ä¸‰ç§æƒ…å†µä¸‹è¿›è¡Œåˆ‡åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¶…è¿‡è¿‡æœŸæ—¶é—´(é»˜è®¤30min)&lt;/li&gt;
&lt;li&gt;åˆå¤œè¿‡12ç‚¹&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå¹¿å‘Šç³»åˆ—æ¥åˆ°ç½‘ç«™ï¼Œéšåç¦»å¼€ï¼Œç„¶åé€šè¿‡å¦ä¸€ä¸ªå¹¿å‘Šç³»åˆ—è¿”å›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# ç›®æ ‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è¡¡é‡ç½‘ç«™æˆ–åº”ç”¨å®Œæˆæ—¢å®šç›®æ ‡çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;ç›®æ ‡ç½‘å€&lt;/li&gt;
&lt;li&gt;æŒç»­æ—¶é—´&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡ä¼šè¯æµè§ˆé¡µæ•°/å±å¹•æ•°&lt;/li&gt;
&lt;li&gt;äº‹ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# è¿‡æ»¤å™¨&lt;/h5&gt;
&lt;h5&gt;# ä¼ é€’å¹¿å‘Šå‚æ•°åˆ°GA (UTM)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡åœ¨ç½‘å€åé¢åŠ å‚æ•°æ¥åŒºåˆ†ä¸åŒçš„æ¸ é“å’Œåª’ä»‹ç­‰ï¼Œä¼šç»Ÿè®¡åˆ°æµé‡æ¨¡å—ã€‚å¯ä»¥ä½¿ç”¨ç½‘å€æ„å»ºå·¥å…·æ¥åˆ›å»ºæ ¼å¼æ­£ç¡®çš„ç½‘å€ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utm_source&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—æ¥æº&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utm_medium&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—åª’ä»‹ï¼Œæ¯”å¦‚emailæˆ–æ¯æ¬¡ç‚¹å‡»&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utm_term(å¯é€‰)&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—å­—è¯&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utm_content(å¯é€‰)&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;utm_campaign&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—åç§°ï¼Œç”¨äºå…³é”®å­—åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# å¦ä¸€ç§ä¼ é€’å¹¿å‘Šå‚æ•°åˆ°GAçš„æ–¹æ³• (GTM)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨GTMé€šè¿‡å˜é‡é…ç½®ï¼Œå°†æ¨å¹¿urlä¸­çš„ç‰¹æ®Šæ¸ é“å‚æ•°å–å‡ºï¼Œç„¶åè½¬æˆGAä¸­çš„ç»´åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;# ç›‘æµ‹é‚®ä»¶æ‰“å¼€æƒ…å†µ (Measurement Protocol)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨é¡µé¢ä¸­åŠ å…¥éšè—1åƒç´ å›¾ç‰‡ï¼Œç”¨æˆ·ä¸€æ‰“å¼€é‚®ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨å‘GAå‘é€ä¸€æ¬¡äº‹ä»¶ï¼Œä¸Šé¢çš„æ ¼å¼åŒ–å‚æ•°å°±ä¼šè‡ªåŠ¨åŒ¹é…è®°å½•ï¼Œå¦‚ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è§£è¯»å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;http://www.google-analytics.com/collect?&lt;/code&gt; APIè¯·æ±‚åœ°å€&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;v=1&lt;/code&gt;ï¼šåè®®ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;tid=UA-XXXX-Y&lt;/code&gt;ï¼šè·Ÿè¸ªID&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cid=*|UNIQID|*&lt;/code&gt;ï¼šå®¢æˆ·ç«¯IDï¼Œç”¨æ¥åŒ¿åæ ‡è®°ä¸€ä¸ªç‰¹å®šçš„ç”¨æˆ·ï¼Œè®¾å¤‡æˆ–æµè§ˆå™¨&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;t=event&lt;/code&gt;ï¼šå‘½ä¸­ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ec=email&lt;/code&gt;ï¼šäº‹ä»¶ç±»åˆ«ï¼Œå¯¹åº”eventCategory&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ea=open&lt;/code&gt;ï¼šäº‹ä»¶åŠ¨ä½œï¼Œå¯¹åº”eventAction&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;el=*|UNIQD|*&lt;/code&gt;ï¼šäº‹ä»¶æ ‡ç­¾ï¼Œå¯¹åº”eventLabel&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cs=newsletter&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—æ¥æº&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cm=email&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—åª’ä»‹&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cn=062413&lt;/code&gt;ï¼šå¹¿å‘Šç³»åˆ—åç§°&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;cm1=1&lt;/code&gt;ï¼šè‡ªå®šä¹‰æŒ‡æ ‡1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœMPåè®®ä¸Šçš„ç”¨æˆ·æ ‡è¯†æ²¡æœ‰ç”¨åˆ°å®é™…çš„ç”¨æˆ·æ ‡è¯†ï¼Œå»ºè®®ç”¨ä¸€ä¸ªæ–°çš„è§†å›¾å­˜æ”¾ï¼Œé¿å…å¯¹åŸè§†å›¾é€ æˆæ±¡æŸ“&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Gatsbyå­¦ä¹ ç¬”è®°]]></title><link>https://peipeiTu.github.com/blog/notebook/gatsby/learn/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/gatsby/learn/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded></content:encoded></item><item><title><![CDATA[NodeJså­¦ä¹ ç¬”è®°]]></title><link>https://peipeiTu.github.com/blog/notebook/nodejs/learn/</link><guid isPermaLink="false">https://peipeiTu.github.com/blog/notebook/nodejs/learn/</guid><pubDate>Fri, 01 May 2015 22:12:03 GMT</pubDate><content:encoded></content:encoded></item></channel></rss>